<!DOCTYPE html>
<html>
<head>
	
	<title>Below High Water - Wave Conditions</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<link rel="stylesheet" href="css/leaflet.css" />
    <link rel="stylesheet" href="css/screen.css" />
	<link rel="stylesheet" href="css/MarkerCluster.css" />
	<link rel="stylesheet" href="css/MarkerCluster.Default.css" />
	<link rel="stylesheet" href="css/tabs.css" />
	<link rel="shortcut icon" type="image/x-icon" href="markers/site-marker.png" />
	<script src="js/leaflet.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	
 
</head>
<style>A {text-decoration: none;} </style>
<body>

<div id='map'></div>
<div id="box" style="z-index:5;"></div>



<script>

var SW = L.latLng(50.4, -2.3)
var NE = L.latLng(50.8, -2)
var SWmax = L.latLng(50, -3)
var NEmax = L.latLng(52, -1)
DorsetBounds = L.latLngBounds(NE,SW);
maxPanning = L.latLngBounds(NEmax,SWmax);

//Base Maps from Open Street Map
	var map = L.map('map',{
	maxBounds: maxPanning,
	boundsViscosity: 1.0,
})
	Land = L.tileLayer('https://{s}.tile.osm.org/{z}/{x}/{y}.png', {
		maxZoom: 13,
		minZoom: 8,
		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
			     'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
		id: 'mapbox/streets-v11',
	}).addTo(map);

//Google Satellite maps

	Satellite = L.tileLayer('http://mt0.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}', {
		maxZoom: 13,
		minZoom: 8,
		attribution: '&copy; <a href="https://about.google/brand-resource-center/products-and-services/geo-guidelines/#required-attribution">Google </a> contributors'
		});

	




map.fitBounds([DorsetBounds]);


var baseMaps = {
    "Street": Land,
	"Satellite": Satellite
	};


//Marker template
	siteflag = L.Icon.extend({
		options: {
    		iconSize:     [34*1.2, 56*1.2],
		iconAnchor:   [17, 56],
		shadowUrl: 'markers/icon-shadow.png',
    		shadowSize:   [34*1.2, 56*1.2],
    		shadowAnchor: [7*1.2, 41*1.2],  
    		popupAnchor:  [0, -58*1.2]
		}
	});
	
var SiteMark = new siteflag({iconUrl:'markers/site-BHW.png'});


L.control.layers(baseMaps).addTo(map);

var Chesil = '<iframe id="CHEZ" src="./data/chesil.html" class=iframez></iframe>'

//var Resiser = 'onload= "javascript: \'jQuery(document).ready(function () {jQuery("#IDofControlFiringResizeEvent").click(function () {var frame = $(\'CHEZ\', window.parent.document);var height = jQuery("sensorframe").height();var width = jQuery("sensorframe").width();frame.height(height + 15);frame.width(width + 15);});});"'

L.marker([50.60227,-2.52213],{icon: SiteMark}).bindPopup(Chesil).on('mouseover', function (e) {
            this.openPopup();
        }).on('mouseout', function (e) {
            this.closePopup();
        }).addTo(map);
				
var Boscombe = '<iframe src="./data/boscombe.html" class=iframez></iframe>'

L.marker([50.71157,-1.84109],{icon: SiteMark}).on('mouseover', function (e) {
            this.bindPopup(Boscombe).openPopup();
        }).on('mouseout', function (e) {
            this.closePopup();
        }).addTo(map);
		
		
var WestBay = '<iframe src="./data/westbay.html" class=iframez></iframe>';
		
L.marker([50.69393,-2.75186],{icon: SiteMark}).bindPopup(WestBay).on('mouseover', function (e) {
            this.openPopup();
        }).on('mouseout', function (e) {
            this.closePopup();
        }).addTo(map);

var Milford= '<iframe src="./data/milford.html" class=iframez></iframe>';
		
L.marker([50.71284,-1.61490],{icon: SiteMark}).bindPopup(Milford).on('mouseover', function (e) {
            this.openPopup();
        }).on('mouseout', function (e) {
            this.closePopup();
        }).addTo(map);
		
var Weymouth= '<iframe src="./data/weymouth.html" class=iframez></iframe>';
		
L.marker([50.62298,-2.41367],{icon: SiteMark}).bindPopup(Weymouth).on('mouseover', function (e) {
            this.openPopup();
        }).on('mouseout', function (e) {
            this.closePopup();
        }).addTo(map);
		
var Swanage= '<iframe src="./data/swanage.html" class=iframez></iframe>';
		
L.marker([50.6095,-1.94785],{icon: SiteMark}).bindPopup(Swanage).on('mouseover', function (e) {
            this.openPopup();
        }).on('mouseout', function (e) {
            this.closePopup();
        }).addTo(map);


	window.addEventListener("orientationchange", function() {
  	location.reload()
	console.log("Switched")
	}, false);

</script>



</body>
</html>


	