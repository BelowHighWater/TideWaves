<html>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<body>
<style> body {background-color: rgba(201, 76, 76, 0.1);} </style>
<h3> Select XML file to upload:</h3>
<br />
<input type='file' accept='text/plain' onchange='openFile(event)'>

<br />

<img id="dir" src="dir_arrow.png" width="27" height="44" style=transform:rotate(90.100deg)><img id="wave" src="wave.png" width="55" height="44"></img><img id="bloke" src="bloke.png" width="27" height="44""></img>

<script>

//openFile will read XML file and input it into text field
var openFile = function(event) {
	var input = event.target;
var CCO_data = "";
	var reader = new FileReader();
	var onload = function(event) {
		CCO_data = reader.result;
		//console.log(CCO_data);
		parse_output(CCO_data)

	};

	reader.onload = onload;
	reader.readAsText(input.files[0]);

};

//another functions
function parse_output(data_0){ 
data_1 = String(data_0);
parser = new DOMParser();
xmlDoc = parser.parseFromString(data_1,"text/html");

let i = 0;
do {
  i += 1;
  x = xmlDoc.getElementsByTagName("ms:sensor")[i];
  y = x.childNodes[0];
  y = y.nodeValue;	
} while (y !== "Chesil");
h = xmlDoc.getElementsByTagName("ms:hs")[i];
h = h.childNodes[0];
h = h.nodeValue;
console.log(h);

d = xmlDoc.getElementsByTagName("ms:value")[i];
d = d.childNodes[0];
d = d.nodeValue;
waveicon(h);
diricon(d)
}

function waveicon(height) {
iconheight = height/1.8 * 44;
iconwidth = height/1.8 * 55;
document.getElementById("wave").height = iconheight;
document.getElementById("wave").width = iconwidth;
}

function diricon(azi) {
direction = azi + "deg";
rot = "transform:rotate("+direction+")";
document.getElementById("dir").style = rot;
}


</script>
</body>
</html>